<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Component Configuration</title>
</head>
<body>
<div>
<h2><a name="InversionofControl-ComponentConfiguration" id="InversionofControl-ComponentConfiguration"></a>Choices</h2>
<p>In true IoC style,  configuration for a component is pushed into the component. </p>
<p>With PicoContainer,  there are a few ways to do this:</p>
<ul>
  <li>Design a class to hold the configuration and have getters on it to allow depending components to access configuration.</li>
  <li>Manually set the configuration for components as you add them to a container</li>
  <li>Leverage the fact that PicoContainer can pick up on named components </li>
</ul>
<h3>Configuration Object</h3>
<div class="source">
  <div>
    <pre>public interface BigFatComponentConfig {
  String getSpellingWebServiceURL();
  String getTimeout();
}
public class BigFatComponent {
  String spellingWebServiceURL;
  String timeout;
  public BigFatComponent(BigFatComponentConfig config) {
    this.spellingWebServiceURL = config.getSpellingWebServiceURL();
    this.timeout = config.getTimeout();
  }  
  // other methods
}
...
pico.addComponent(BigFatComponent.class)
pico.addComponent(new BigFatComponentConfigBean(&quot;http://foo.com/foo.wsdl&quot;, 120))</pre>
  </div>
  <h3>Setting config as part of addComponent(..) </h3>
  <div class="source">
    <div>
      <pre>public class BigFatComponent {
  String spellingWebServiceURL;
  int timeout;
  public BigFatComponent(String spellingWebServiceURL, int timeout) {
    this.spellingWebServiceURL = spellingWebServiceURL;
    this.timeout = timeout;
  }  
  // other methods
}


...
pico.addComponent(BigFatComponent.class, new ConstParameter(&quot;http://foo.com/foo.wsdl&quot;), new ConstantParameter(120));</pre>
    </div>
    <h3>Relying on parameter names </h3>
    <div class="source">
      <div>
        <pre>public class BigFatComponent {
  String spellingWebServiceURL;
  int timeout;
  public BigFatComponent(String spellingWebServiceURL, int timeout) {
    this.spellingWebServiceURL = spellingWebServiceURL;
    this.timeout = timeout;
  }  
  // other methods
}


...
pico.addConfig(&quot;spellingWebServiceURL&quot;, &quot;http://foo.com/foo.wsdl&quot;);
pico.addConfig(&quot;somethingElse&quot;, &quot;abcde&quot;);
pico.addConfig(&quot;timeout&quot;, 120);
pico.addConfig(&quot;123&quot;, 456);
pico.addComponent(BigFatComponent.class);</pre>
      </div>
    </div>
  </div>
  <p>&nbsp;</p>
</div>
<div>
</body>
</html>
