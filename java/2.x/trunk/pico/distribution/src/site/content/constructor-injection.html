<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Constructor Injection</title>
</head>
<body>
<div>
    <h2><a name="ConstructorInjection-Overview" id="ConstructorInjection-Overview"></a>Overview</h2>

    <p>Constructor Injection is a <a href="injection.html" title="Dependency Injection">Dependency Injection</a> variant
       where an object gets all its dependencies via the constructor. This is PicoContainer's most important feature.
    </p>

    <p>The most important benefits of Constructor Injection are:</p>
    <ul>
        <li>It makes a strong dependency contract</li>
        <li>It makes testing easy, since dependencies can be passed in as <a href="mock-objects.html"
                                                                             title="Mock Objects">Mock Objects</a></li>
        <li>It's very succinct in terms of lines of code</li>
        <li>Classes that rely on Constructor Injection are generally <a href="patterns.html" title="Good Citizen">Good
                                                                                                                  Citizen</a>s
        </li>
        <li>A dependency may be made immutable by making the dependency reference <em>final</em></li>
    </ul>
    <p><img class="emoticon" src="http://docs.codehaus.org/images/icons/emoticons/information.gif" height="16"
            width="16" align="absmiddle" alt="" border="0" /> Martin Fowler explains <a
        href="http://www.martinfowler.com/articles/injection.html#ConstructorInjectionWithPicocontainer">Constructor
                                                                                                         Injection</a>
                                                              in more detail.<br />
        <br />
        <img class="emoticon" src="http://docs.codehaus.org/images/icons/emoticons/information.gif" height="16"
             width="16" align="absmiddle" alt="" border="0" /> PicoContainer also supports <a
        href="setter-injection.html" title="Setter Injection">Setter Injection</a>.</p>
</div>
<div>
    <h2><a name="ConstructorInjection-Origin" id="ConstructorInjection-Origin"></a>Origin</h2>

    <p><a href="http://www.twelve71.com/rachel/">Rachel Davies</a>, while reviewing Joe's book, left a Fermat-like
                                                                  margin note when view a snippet like the above. &quot;Why
                                                                  not use constructors ?&quot;. Brilliant and simple.
    </p>
</div>
<div>
    <h2><a name="ConstructorInjection-Example" id="ConstructorInjection-Example"></a>Example</h2>

    <div class="source">
        <div class="codeContent">
            <pre class="code-java">public class Shop {
    private final StockManager stockManager;
    private final String shopZipCode;
    public Shop(StockManager stockManager, String shopZipCode) {
        this.stockManager = stockManager;
        this.shopZipCode = shopZipCode;
    }
 }</pre>
        </div>
    </div>
    <p>Note, for this there is no need to declare needs in any other way. No interfaces, no doclet tags, no external
       XML. Just your simple component(s) and PicoContainer. No need for post assembly/config initialization either. If
       it is constructed (not withstanding some asserts on nulls) it has its needs satisfied. Components need not be
       interface/implementation separated. This is the coder's choice.</p>

    <div>
        <h3><a name="ConstructorInjection-UsingConstructorInjectorComponentsWithoutaContainer."
               id="ConstructorInjection-UsingConstructorInjectorComponentsWithoutaContainer."></a>Using Constructor
                                                                                                  Injector Components
                                                                                                  Without a Container.
        </h3>

        <p>The component can be used directly, without any container. The missing dependency scenario is not an issue
           since it is impossible to instantiate an object without all dependencies being satisfied.</p>

        <div class="source">
            <div class="codeContent">
                <pre class="code-java">Shop shop = new Shop(myStockManager);</pre>
            </div>
        </div>
    </div>
</div>
<div>
    <h2><a name="ConstructorInjection-Containersupport" id="ConstructorInjection-Containersupport"></a>Container support
    </h2>

    <p>PicoContainer was the first lightweight container to support and popularize this for of dependency injection.
       Spring Framework has been retrofitted with constructor injection capability, but its primary focus is still
       setter injection. Even Avalon's reference container has been upgraded to have compatibility with constructor
       injection components.</p>
</div>
</body>
</html>
