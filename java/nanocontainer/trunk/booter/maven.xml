<project default="jar:install"
    xmlns:j="jelly:core">

    <goal name="booter:demo" prereqs="booter:test-comps">
    		<attainGoal name="booter:build-dist"/>
        <copy todir="${maven.build.dir}/booter">
        		<fileset dir="src/test">
				<include name="composition.*"/>
			</fileset>
         </copy>    		
        <mkdir dir="${maven.build.dir}/booter/comps"/>
        <copy todir="${maven.build.dir}/booter/comps">
        		<fileset dir="${maven.build.dir}/test-comps/"/>
         </copy>    		
    </goal>

    <goal name="booter:test-comps" prereqs="test:compile">    
        <mkdir dir="${maven.build.dir}/test-comps/"/>    
        <jar jarfile="${maven.build.dir}/test-comps/api.jar">
            <fileset dir="${maven.build.dir}/test-classes/">
                <include name="**/Bear.class"/>
                <include name="**/Honey.class"/>
            </fileset>
        </jar>

        <jar jarfile="${maven.build.dir}/test-comps/bearimpl.jar">
            <fileset dir="${maven.build.dir}/test-classes/">
                <include name="**/BrownBear.class"/>
            </fileset>
        </jar>

        <jar jarfile="${maven.build.dir}/test-comps/honeyimpl.jar">
            <fileset dir="${maven.build.dir}/test-classes/">
                <include name="**/BeeHiveHoney.class"/>
            </fileset>
        </jar>

        <mkdir dir="${maven.build.dir}/dist/comps/"/>
        <copy todir="${maven.build.dir}/dist/comps">
			<fileset dir="${maven.build.dir}/test-comps">
				<include name="*.jar"/>
			</fileset>        
		</copy>            
    </goal>


</project>
