<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Good Citizens</title>
</head>
<body>
Many people are used to implementing classes with multiple
constructors. This can be becaus of laziness (by wanting a simpler way
to instantiate the object), or it can be a deliberate design decision.
It is common in such cases to let the smaller constructors call one of
the bigger constructors with some default value.<br>
<br>
If these default values are components themselves, the IoC pattern is
clearly violated.You probably want to avoid that if you're designing a
component that is intended to be used in an IoC container like
PicoContainer.<br>
<br>
Joshua Bloch talks about good citizens. This is along the lines of the
fail-fast idea that an object or component is never in an inconsistent
state: Just by existing it is ready to provide a service. This means
that we don't get thie constructor -&gt; setters -&gt; post setters
model with a scary inconsistent bit in the middle. By the time the
object is constructed it is ready to roll. In fact this leads to *less*
defensive coding - you don't need to do state checks onobjects you
collaberate with, the objects themselves need far less internal
consistency checks etc. <br>
<br>
If you're writing a component that is meant to be used in an IoC
environment (no matter the type 1,2,3, no matter the container) AND be
a good citizen, you'll safe yourself a lot of errors if you provide
only one way to set it up. I.e. define only one constructor.This also
makes the component a lot easier to test. If you have several ways of
instantiating the component, then it has potentially several different
initial states. And therefore, all its functinality should be tested
for each of these initial states. Cumbersome!<br>
<br>
But if you feel lucky, go ahead and make multiple constructors.
PicoContainer allows you to do that.<br>
<br>
</body>
</html>
